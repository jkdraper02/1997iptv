<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CyclonePORT Auto-Select</title>
<script>
async function testStream(url) {
    try {
        const response = await fetch(url, { method: 'HEAD' });
        return response.ok;
    } catch (e) {
        return false;
    }
}

async function findWorkingStream() {
    const base = "https://video";
    const tail = ".cdn.radaromega.com/live/abf2b8d98ed7/stream.m3u8";

    const streams = [];
    for (let i = 1; i <= 9; i++) {
        streams.push(base + i + tail);
    }

    for (const url of streams) {
        const ok = await testStream(url);
        if (ok) {
            window.location.href = url;
            return;
        }
    }

    document.body.innerHTML = "<h2>No working stream found.</h2>";
}

findWorkingStream();
</script>
</head>
<body>
<p>Checking available CyclonePORT streamsâ€¦</p>
</body>
</html>
